<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Contributor_Guide • actR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Contributor_Guide" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">actR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/abruptShift_tests.html">abruptShift_tests</a>
    </li>
    <li>
      <a href="articles/detectExcursion.html">detectExcursion</a>
    </li>
    <li>
      <a href="articles/detectShift.html">detectShift</a>
    </li>
    <li>
      <a href="articles/neotoma.html">neotoma</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributor_Guide</h1>
    </div>

<div id="contributor_guide" class="section level1">

<div id="a-guide-to-contributing-methods-to-actr" class="section level2">
<h2 class="hasAnchor">
<a href="#a-guide-to-contributing-methods-to-actr" class="anchor"></a>A guide to contributing methods to actR</h2>
<p>actR was designed to simplify adding new abrupt change detection methods, and we’re eager to work with people to add new methods into the toolkit!</p>
<p>The bulk of this guide is intended for methods that were designed to work with single-site, time-certain values. Furthermore, the methods currently implemented in actR are built around methods that return binary (TRUE/FALSE) results for the detection of changepoints at a certain time (or over a specific window). actR has extensive functionality designed to simplify propagating time and data uncertainties, and robust hypothesis testing.</p>
<p>As you develop your method, it’s possible that the peculiarities of your approach either require, or would benefit, new functionality in actR. Keep in touch with the actR dev team to make feature request, and report bugs.</p>
<p>Finally, actR is being designed following most of principles outlined in the excellent <a href="https://r-pkgs.org/">r-pkg book</a>. This isn’t required reading, but you’ll probably benefit from at least skimming. Furthermore, if you’re interested in the motivation behind a lot of what we’re doing, you’ll find it here.</p>
<p><em>Note: this guide is under active development and is not yet complete</em></p>
</div>
<div id="conceptual-overview-of-actr-workflows" class="section level2">
<h2 class="hasAnchor">
<a href="#conceptual-overview-of-actr-workflows" class="anchor"></a>Conceptual overview of actR workflows</h2>
<p>Before digging into the details below, let’s go over the conceptual design of an actR workflow.</p>
<p>An actR workflow typically starts with a user entering data into a detect*() function. These are high level functions that coordinate many steps of the analysis process. Typically, these functions</p>
<ol>
<li><p>Use the actR::prepareInput() function to take the LiPD or time/value pairings + metadata and structure for subsequent analysis</p></li>
<li><p>Use the actR::propagateUncertainties() function to pass and/or generate age and value uncertainties, and then propagate them through your core method.</p></li>
</ol>
<p>The core method function (detect*Core()) is the base function that takes time and value inputs and typically returns either a binary result of whether an abrupt change was detected. Probabilistic outcomes are also possible here, but should be based on theory (not monte carlo or other brute force testing). Because robust uncertainy propagation and null hypothesis testing is handled elsewhere in actR, it’s best to make the core function as simple as possible (while retaining it’s key functionality and features of course.)</p>
<ol>
<li><p>Use the actR::testNullHypothesis() function to repeat the analysis on surrogate datasets.</p></li>
<li><p>Combine the outputs of 2. and 3. into an output that estimates an empirical p-value (potentially p-values for many time windows), and return these results as a single object.</p></li>
</ol>
<p>After running the detect*() function, the user can then use custom-built print, summary, and plot functions to see, summarize and visualize the outcome of the result.</p>
<p>For a user-facing example of this process, check out the vignette for detectShift() (after it’s written, sorry).</p>
</div>
<div id="step-by-step-guide-for-contributors" class="section level2">
<h2 class="hasAnchor">
<a href="#step-by-step-guide-for-contributors" class="anchor"></a>Step by step guide for contributors</h2>
<div id="make-a-branch-of-the-github-repo" class="section level3">
<h3 class="hasAnchor">
<a href="#make-a-branch-of-the-github-repo" class="anchor"></a>1. Make a branch of the github repo</h3>
</div>
<div id="create-a-new-r-in-actrr-file-for-your-functions-basic-code" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-new-r-in-actrr-file-for-your-functions-basic-code" class="anchor"></a>2. Create a new R in actR/R file for your function’s basic code</h3>
<p><code><a href="https://usethis.r-lib.org/reference/use_r.html">usethis::use_r("newMethod")</a></code></p>
</div>
<div id="write-a-core-function-and-unit_test" class="section level3">
<h3 class="hasAnchor">
<a href="#write-a-core-function-and-unit_test" class="anchor"></a>3. Write a *Core() function and unit_test</h3>
<p>As you go, document your function.</p>
<p>Good time to try check()</p>
<p>some useful test data for this are found</p>
</div>
<div id="write-a-wrapper-function-that-uses-your-core-function-propagateuncertainty-and-testnullhypothesis-to-analyze-and-then-synthesize-those-results-" class="section level3">
<h3 class="hasAnchor">
<a href="#write-a-wrapper-function-that-uses-your-core-function-propagateuncertainty-and-testnullhypothesis-to-analyze-and-then-synthesize-those-results-" class="anchor"></a>4. Write a wrapper function that uses *your Core() function, propagateUncertainty() and testNullHypothesis() to analyze and then synthesize those results.</h3>
<p>For single dataset analyses, the input should be structured as a LiPD-ts-tibble</p>
<p>The core output should be a tibble with each null hypothesis result as a row. It is often appropriate to return a list, with the tibble as one output.</p>
<p>Define a class for this output.</p>
</div>
<div id="write-a-plot-yourclass-function-that-takes-only-the-output-from-the-wrapper-along-with-plotting-arguments-and-produces-a-ggplot-object-" class="section level3">
<h3 class="hasAnchor">
<a href="#write-a-plot-yourclass-function-that-takes-only-the-output-from-the-wrapper-along-with-plotting-arguments-and-produces-a-ggplot-object-" class="anchor"></a>5. Write a plot.yourClass() function that takes only the output from the wrapper, along with plotting arguments, and produces a ggplot object.</h3>
<p>This code should go in the plottings.R file</p>
</div>
<div id="write-a-summary-yourclass-function-that-prints-out-key-results-" class="section level3">
<h3 class="hasAnchor">
<a href="#write-a-summary-yourclass-function-that-prints-out-key-results-" class="anchor"></a>6. Write a summary.yourClass() function that prints out key results.</h3>
<p>This code should go in the summary.R file.</p>
<p>Also create a print.yourClass() function in the print.R file. So far, all the classes just reuse their summary methods as their print methods.</p>
</div>
<div id="thats-it-but-lets-make-sure-everything-is-working-properly" class="section level3">
<h3 class="hasAnchor">
<a href="#thats-it-but-lets-make-sure-everything-is-working-properly" class="anchor"></a>7. That’s it! But let’s make sure everything is working properly</h3>
<p>Make sure your R cmd-check is passing:</p>
<p>devtools::check()</p>
<p>devtools::test()</p>
</div>
<div id="now-were-set-lets-add-it-into-to-actr" class="section level3">
<h3 class="hasAnchor">
<a href="#now-were-set-lets-add-it-into-to-actr" class="anchor"></a>8. Now we’re set, let’s add it into to actR!</h3>
<p>Pull request</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Nicholas McKay, Julien Emile-Geay.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


